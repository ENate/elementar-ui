<emr-navigation #navigation [activeKey]="activeKey()" class="h-full">
  @for (navItem of navItems(); track navItem) {
    @switch (navItem.type) {
      @case ('heading') {
        <emr-navigation-heading>{{ navItem.name }}</emr-navigation-heading>
      }
      @case ('group') {
        <emr-navigation-group>
          <emr-navigation-group-toggle [for]="navItem.id">
            @if (navItem.icon) {
              <mat-icon emrNavigationItemIcon>{{ navItem.icon }}</mat-icon>
            }
            {{ navItem.name }}
            <mat-icon emrNavigationGroupToggleIcon>arrow_drop_down</mat-icon>
          </emr-navigation-group-toggle>
          <emr-navigation-group-menu [key]="navItem.id">
            @for (childItem of navItem.children | orderBy:'name'; track childItem) {
              <a emr-navigation-item [routerLink]="childItem.link" [key]="childItem.link">
                {{ childItem.name }}
              </a>
            }
          </emr-navigation-group-menu>
        </emr-navigation-group>
      }
      @default {
        <a emr-navigation-item [routerLink]="navItem.link" [key]="navItem.link">
          @if (navItem.icon) {
            <mat-icon emrNavigationItemIcon>{{ navItem.icon }}</mat-icon>
          }
          {{ navItem.name }}
        </a>
      }
    }
  }
</emr-navigation>
