<div class="header">
  <div>
    @if (data.title || data.titleTplRef) {
      <div class="title">
        @if (data.titleTplRef) {
          <ng-container [ngTemplateOutlet]="data.titleTplRef"></ng-container>
        } @else if (data.caption) {
          {{ data.title }}
        }
      </div>
    }
  </div>
  <button (click)="pictureRef.close()" class="close">
    <mat-icon>close</mat-icon>
  </button>
</div>
@if (loading) {
  <div class="spinner">
    <mat-spinner></mat-spinner>
  </div>
}
<div class="content" (click)="onBackdropClick()">
  <div class="image">
    <img [src]="data.sourceUrl" alt="" (load)="onLoad($event)" (click)="onPreventClick($event)">
  </div>
  @if (data.caption || data.description || data.captionTplRef || data.descriptionTplRef) {
    <div class="aside" (click)="onPreventClick($event)">
      <div class="aside-header">
        @if (data.captionTplRef) {
          <ng-container [ngTemplateOutlet]="data.captionTplRef"></ng-container>
        } @else if (data.caption) {
          {{ data.caption }}
        }
      </div>
      <div class="aside-body">
        <div class="aside-body-scroll">
          @if (data.descriptionTplRef) {
            <ng-container [ngTemplateOutlet]="data.descriptionTplRef"></ng-container>
          } @else if (data.description) {
            {{ data.description }}
          }
        </div>
      </div>
    </div>
  }
</div>
